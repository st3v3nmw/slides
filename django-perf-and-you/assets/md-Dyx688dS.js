import{_ as B}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-Dc9mCjNf.js";import{d as y,e as D,f as C}from"./modules/unplugin-icons-KYtC6kB4.js";import{o as A,c as o,k,e as i,l as h,ac as s,m as l,q as _,s as m,B as e}from"./modules/vue-erlImCx6.js";import{I as c}from"./slidev/default-DNyDrW-X.js";import{u as E,f as u}from"./slidev/context-1HTcGq0r.js";import"./index-LlaKh1ls.js";import"./modules/shiki-D1jugA53.js";const f={style:{"margin-right":"20px"},class:"text-red-400"},F={style:{"margin-right":"20px"},class:"text-red-400"},v={style:{"margin-right":"20px"},class:"text-green-400"},q={__name:"slides.md__slidev_14",setup(x){const{$slidev:R,$nav:w,$clicksContext:n,$clicks:S,$page:T,$renderContext:b,$frontmatter:r}=E();return n.setup(),(O,a)=>{const d=y,p=D,g=C,t=B;return A(),o(c,_(m(e(u)(e(r),13))),{default:k(()=>[a[5]||(a[5]=i("h1",null,"Example 2: After prefetching related senders ðŸ˜²",-1)),a[6]||(a[6]=i("p",null,[i("a",{href:"http://127.0.0.1:8000/api/threads/",target:"_blank"},"http://127.0.0.1:8000/api/threads/")],-1)),i("div",null,[i("i",f,[h(d),a[0]||(a[0]=s("7,183ms overall"))]),i("i",F,[h(p),a[1]||(a[1]=s("1,360ms on queries"))]),i("i",v,[h(g),a[2]||(a[2]=s("4 queries"))])]),h(t,l({},{ranges:["2-"]}),{default:k(()=>a[3]||(a[3]=[i("pre",{class:"shiki shiki-themes Vitesse Dark Vitesse Light slidev-code",style:{"--shiki-dark":"#dbd7ca","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-python"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"class"),i("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}}," ThreadViewSet"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),i("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"ReadOnlyModelViewSet"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"):")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"    queryset "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," (")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"      models"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"Thread"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"objects")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"      ."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"filter"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"deleted"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#D4976C","--shiki-light":"#A65E2B"}},"False"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"      ."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"prefetch_related"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'"messages"'),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},","),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' "messages__sent_by"'),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},")")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"    )")])])],-1)])),_:1},16),a[7]||(a[7]=i("h3",null,"Queries",-1)),h(t,l({},{ranges:["all","7-9"]}),{default:k(()=>a[4]||(a[4]=[i("pre",{class:"shiki shiki-themes Vitesse Dark Vitesse Light slidev-code",style:{"--shiki-dark":"#dbd7ca","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-sql"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"SELECT"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," FROM"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' "weave_thread"'),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," WHERE"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," NOT"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' "weave_thread"'),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"."),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'"deleted"'),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," ORDER BY"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' "weave_thread"'),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"."),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'"updated"'),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," DESC"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," LIMIT"),i("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}}," 100")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"# Executed 1X "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"->"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," Picks approx. "),i("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"10"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},","),i("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"000"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," messages "),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"for"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," all threads")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"SELECT"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," FROM"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' "weave_message"'),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," WHERE"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' "weave_message"'),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"."),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'"thread_id"'),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," IN"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," (THREAD_IDS,)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"ORDER BY"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' "weave_message"'),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"."),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'"updated"'),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," DESC")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"# Executed approx 1X "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"->"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," Picks all relevant "),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"message"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," senders")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"SELECT"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," *"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," FROM"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' "weave_person"'),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," WHERE"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' "weave_person"'),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"."),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'"id"'),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," IN"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," (MESSAGE_IDS,)")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"ORDER BY"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' "weave_person"'),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"."),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'"updated"'),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," DESC")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"SELECT"),i("span",{style:{"--shiki-dark":"#E0A569","--shiki-light":"#B58451"}}," COUNT"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"("),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"*"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},") "),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"AS"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' "__count"'),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," FROM"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' "weave_thread"'),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," WHERE"),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," NOT"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' "weave_thread"'),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"."),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'"deleted"')])])],-1)])),_:1},16)]),_:1},16)}}};export{q as default};
