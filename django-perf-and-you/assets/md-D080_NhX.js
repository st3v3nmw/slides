import{_ as d}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-Dc9mCjNf.js";import{e as g}from"./modules/unplugin-icons-KYtC6kB4.js";import{o as A,c as o,k as l,e as s,l as a,ac as t,m as h,q as y,s as B,B as k}from"./modules/vue-erlImCx6.js";import{I as D}from"./slidev/default-DNyDrW-X.js";import{u as C,f as u}from"./slidev/context-1HTcGq0r.js";import"./index-LlaKh1ls.js";import"./modules/shiki-D1jugA53.js";const m={style:{"margin-right":"20px"},class:"text-green-400"},N={__name:"slides.md__slidev_21",setup(c){const{$slidev:f,$nav:_,$clicksContext:n,$clicks:b,$page:w,$renderContext:F,$frontmatter:r}=C();return n.setup(),(x,i)=>{const p=g,e=d;return A(),o(D,y(B(k(u)(k(r),20))),{default:l(()=>[i[3]||(i[3]=s("h1",null,"SELECT COUNT(*) Estimates",-1)),s("p",null,[s("i",m,[a(p),i[0]||(i[0]=t("1.39ms"))])]),i[4]||(i[4]=s("h4",null,"Query",-1)),a(e,h({},{ranges:[]}),{default:l(()=>i[1]||(i[1]=[s("pre",{class:"shiki shiki-themes Vitesse Dark Vitesse Light slidev-code",style:{"--shiki-dark":"#dbd7ca","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-sql"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"SELECT"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," reltuples "),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"FROM"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," pg_class "),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"WHERE"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," relname "),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," weave_message")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"# "),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"Output"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," ="),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}}," 100"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},","),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"000"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"; Correct "),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}}," 89"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},","),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"964"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," 😖")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"# Filters"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"/"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"conditions "),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"not"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," applied")])])],-1)])),_:1},16),i[5]||(i[5]=s("blockquote",null,[s("p",null,[t("The catalog "),s("code",null,"pg_class"),t(" catalogs tables and most everything else that has columns or is otherwise similar to a table. This includes indexes, views, materialized views, composite types, and TOAST tables; see "),s("code",null,"relkind"),t(". When we mean all of these kinds of objects we speak of “relations”. "),s("br"),s("code",null,"reltuples"),t(" is the number of live rows in the table. This is only an estimate used by the planner. It’s updated by "),s("code",null,"VACUUM"),t(", "),s("code",null,"ANALYZE"),t(", and a few DDL commands such as "),s("code",null,"CREATE INDEX"),t(". "),s("br"),t(" ~ "),s("a",{href:"https://www.postgresql.org/docs/current/catalog-pg-class.html",target:"_blank"},"https://www.postgresql.org/docs/current/catalog-pg-class.html")])],-1)),i[6]||(i[6]=s("h4",null,"Query Plan",-1)),a(e,h({},{ranges:[]}),{default:l(()=>i[2]||(i[2]=[s("pre",{class:"shiki shiki-themes Vitesse Dark Vitesse Light slidev-code",style:{"--shiki-dark":"#dbd7ca","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-sql"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"Index"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," Scan "),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"using"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," pg_class_relname_nsp_index "),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"on"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," pg_class")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"  (cost"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"0"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"."),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"28"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},".."),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"8"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"."),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"29"),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," rows"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"1"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," width"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"4"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},")")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"  (actual "),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"time="),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"0"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"."),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"043"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},".."),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"0"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"."),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"046"),s("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}}," rows"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"1"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," loops"),s("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),s("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"1"),s("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},")")])])],-1)])),_:1},16),i[7]||(i[7]=s("p",null,[t("Are we able to surface the count estimates from the query planner? "),s("code",null,"EXPLAIN"),t(" only, yes.")],-1))]),_:1},16)}}};export{N as default};
