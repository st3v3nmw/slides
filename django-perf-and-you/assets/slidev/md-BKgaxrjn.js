import{d as f,t as F,a6 as _,o,b as C,e as i,m as d,B as n,g as b,c as x,k as y,l as e,ac as t,q as $,s as w}from"../modules/vue-erlImCx6.js";import{ah as v}from"../index-LlaKh1ls.js";import{_ as T}from"./CodeBlockWrapper.vue_vue_type_script_setup_true_lang-Dc9mCjNf.js";import{d as V,e as M,f as P}from"../modules/unplugin-icons-KYtC6kB4.js";import{I as W}from"./default-DNyDrW-X.js";import{u as O,f as q}from"./context-1HTcGq0r.js";import"../modules/shiki-D1jugA53.js";const L=["width","height"],N=["id"],R=["fill"],S=["id"],j=["fill"],z=["x1","y1","x2","y2","stroke","stroke-width","marker-end","marker-start"],H=["x1","y1","x2","y2"],I=f({__name:"Arrow",props:{x1:{},y1:{},x2:{},y2:{},width:{},color:{},twoWay:{type:Boolean}},emits:["dblclick","clickOutside"],setup(D,{emit:B}){const l=B,h=v(),p={markerUnits:"strokeWidth",markerHeight:7,refY:3.5,orient:"auto"},g=F();return _(g,()=>l("clickOutside")),(s,a)=>(o(),C("svg",{class:"absolute left-0 top-0",width:Math.max(+s.x1,+s.x2)+50,height:Math.max(+s.y1,+s.y2)+50},[i("defs",null,[i("marker",d({id:n(h),markerWidth:"10",refX:"9"},p),[i("polygon",{points:"0 0, 10 3.5, 0 7",fill:s.color||"currentColor",onDblclick:a[0]||(a[0]=r=>l("dblclick"))},null,40,R)],16,N),s.twoWay?(o(),C("marker",d({key:0,id:`${n(h)}-rev`,markerWidth:"20",refX:"11"},p),[i("polygon",{points:"20 0, 10 3.5, 20 7",fill:s.color||"currentColor",onDblclick:a[1]||(a[1]=r=>l("dblclick"))},null,40,j)],16,S)):b("",!0)]),i("line",{x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,stroke:s.color||"currentColor","stroke-width":s.width||2,"marker-end":`url(#${n(h)})`,"marker-start":s.twoWay?`url(#${n(h)}-rev)`:"none",onDblclick:a[2]||(a[2]=r=>l("dblclick"))},null,40,z),i("line",{ref_key:"clickArea",ref:g,x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,stroke:"transparent","stroke-linecap":"round","stroke-width":20,onDblclick:a[3]||(a[3]=r=>l("dblclick"))},null,40,H)],8,L))}}),G={style:{"margin-right":"20px"},class:"text-red-400"},K={style:{"margin-right":"20px"},class:"text-red-400"},X={style:{"margin-right":"20px"},class:"text-red-400"},ti={__name:"slides.md__slidev_5",setup(D){const{$slidev:B,$nav:l,$clicksContext:h,$clicks:p,$page:g,$renderContext:s,$frontmatter:a}=O();return h.setup(),(r,k)=>{const m=V,c=M,u=P,A=T,E=I;return o(),x(W,$(w(n(q)(n(a),4))),{default:y(()=>[k[5]||(k[5]=i("h1",null,"Example 1: The N+1 Query Problem",-1)),k[6]||(k[6]=i("p",null,[i("a",{href:"http://127.0.0.1:8000/api/messages/list_some/",target:"_blank"},"http://127.0.0.1:8000/api/messages/list_some/")],-1)),i("div",null,[i("i",G,[e(m),k[0]||(k[0]=t("2,794ms overall"))]),i("i",K,[e(c),k[1]||(k[1]=t("484ms on queries"))]),i("i",X,[e(u),k[2]||(k[2]=t("103 queries"))])]),e(A,d({},{ranges:["3-","8"]}),{default:y(()=>k[3]||(k[3]=[i("pre",{class:"shiki shiki-themes Vitesse Dark Vitesse Light slidev-code",style:{"--shiki-dark":"#dbd7ca","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-python"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"class"),i("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}}," MessageViewSet"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),i("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"ReadOnlyModelViewSet"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"):")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'    """Message viewset."""')]),t(`
`),i("span",{class:"line"}),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"    @"),i("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"action"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"methods"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"["),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'"GET"'),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"],"),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}}," detail"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#D4976C","--shiki-light":"#A65E2B"}},"False"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},")")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    def"),i("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}}," list_some"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"self"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},","),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," request"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"):")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'        """List some messages."""')]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"        messages "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," models"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"Message"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"objects"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"all"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"()[:"),i("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"100"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"]")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"        data "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," serializers"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"MessageSerializer"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"messages"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},","),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}}," many"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#D4976C","--shiki-light":"#A65E2B"}},"True"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},")."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"data")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"        return"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," Response"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"data"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"data"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},","),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}}," status"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#D4976C","--shiki-light":"#A65E2B"}},"HTTP_200_OK"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},")")])])],-1)])),_:1},16),e(A,d({},{ranges:["5-8"]}),{default:y(()=>k[4]||(k[4]=[i("pre",{class:"shiki shiki-themes Vitesse Dark Vitesse Light slidev-code",style:{"--shiki-dark":"#dbd7ca","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[i("code",{class:"language-python"},[i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"    @"),i("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}},"action"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"methods"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"["),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'"GET"'),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"],"),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}}," detail"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#D4976C","--shiki-light":"#A65E2B"}},"False"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},")")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    def"),i("span",{style:{"--shiki-dark":"#A1B567","--shiki-light":"#6C7834"}}," list_some"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"self"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},","),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," request"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"):")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'        """List some messages."""')]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"        messages "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," models"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"Message"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"objects"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"all"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"()[:"),i("span",{style:{"--shiki-dark":"#6394BF","--shiki-light":"#296AA3"}},"100"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"]")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"        data "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}}," []")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"        for"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," message "),i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"in"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," messages"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},":")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"          sent_by "),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," message"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"sent_by")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"          data"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"append"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"({"),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},'"sender"'),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},":"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," sent_by"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"full_name"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},","),i("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},' "text"'),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},":"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," message"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"."),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"text"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"})")]),t(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1C6B48"}},"        return"),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}}," Response"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},"("),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}},"data"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#DBD7CA","--shiki-light":"#393A34"}},"data"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},","),i("span",{style:{"--shiki-dark":"#B8A965","--shiki-light":"#8C862B"}}," status"),i("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"="),i("span",{style:{"--shiki-dark":"#D4976C","--shiki-light":"#A65E2B"}},"HTTP_200_OK"),i("span",{style:{"--shiki-dark":"#858585","--shiki-light":"#8E8F8B"}},")")])])],-1)])),_:1},16),e(E,{x1:"500",y1:"310",x2:"400",y2:"450"})]),_:1},16)}}};export{ti as default};
